pkgname=logkonsult
pkgver=0.0.1
pkgrel=1
pkgdesc="pacman logs Qt6 gui"
url="https://..."

depends=(
  python
  pyside6
)
makedepends=(
  python-build
  python-installer
)

source=("${pkgname}-${pkgver}-${pkgrel}.tar.gz::https://github.com/nicolargo/glances/archive/v${pkgver}.tar.gz")

build() {
  cd $pkgname-$pkgver
  python -m build --wheel --no-isolation
}

package() {
  cd $pkgname-$pkgver
  python -m installer --destdir="$pkgdir" dist/*.whl
  mv "${pkgdir}"/usr/bin/grammalecte-cli{.py,}
  
  install -vDm 644 {examples/example.toml,README.rst} -t "$pkgdir/usr/share/doc/$pkgname/"
  install -vDm 644 examples/projects.toml -t "$pkgdir/etc/$pkgname/"
  install -vDm 644 examples/systemd/*.{service,timer} -t "$pkgdir/usr/lib/systemd/system/"
  install -vDm 644 examples/sysusers.d/*.conf -t "$pkgdir/usr/lib/sysusers.d/"
}


